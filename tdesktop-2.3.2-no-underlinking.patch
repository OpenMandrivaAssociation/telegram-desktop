diff -up tdesktop-2.7.9-full/Telegram/CMakeLists.txt.2~ tdesktop-2.7.9-full/Telegram/CMakeLists.txt
--- tdesktop-2.7.9-full/Telegram/CMakeLists.txt.2~	2021-06-21 16:31:28.622347055 +0200
+++ tdesktop-2.7.9-full/Telegram/CMakeLists.txt	2021-06-21 16:32:45.967583578 +0200
@@ -93,6 +93,7 @@ elseif (LINUX)
         desktop-app::external_glibmm
         desktop-app::external_glib
         desktop-app::external_mallocng
+	-ldl -ljpeg -lvpx -lopenh264
     )
 
     if (NOT DESKTOP_APP_DISABLE_DBUS_INTEGRATION)
diff -up tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_animation.cpp.2~ tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_animation.cpp
--- tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_animation.cpp.2~	2021-06-21 16:30:42.000000000 +0200
+++ tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_animation.cpp	2021-06-21 16:31:28.622347055 +0200
@@ -138,7 +138,7 @@ std::unique_ptr<rlottie::Animation> Crea
 	const auto string = ReadUtf8(UnpackGzip(content));
 	Assert(string.size() <= kMaxFileSize);
 
-#ifndef DESKTOP_APP_USE_PACKAGED_RLOTTIE
+#if 0 //ndef DESKTOP_APP_USE_PACKAGED_RLOTTIE
 	auto result = rlottie::Animation::loadFromData(
 		string,
 		std::string(),
diff -up tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_icon.cpp.2~ tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_icon.cpp
--- tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_icon.cpp.2~	2021-06-21 16:30:42.000000000 +0200
+++ tdesktop-2.7.9-full/Telegram/lib_lottie/lottie/lottie_icon.cpp	2021-06-21 16:31:28.622347055 +0200
@@ -22,7 +22,7 @@ namespace {
 		const QByteArray &content,
 		QColor replacement) {
 	auto string = ReadUtf8(content);
-#ifndef DESKTOP_APP_USE_PACKAGED_RLOTTIE
+#if 0 //ndef DESKTOP_APP_USE_PACKAGED_RLOTTIE
 	auto list = std::vector<std::pair<std::uint32_t, std::uint32_t>>();
 	if (replacement != Qt::white) {
 		const auto value = (uint32_t(replacement.red()) << 16)
