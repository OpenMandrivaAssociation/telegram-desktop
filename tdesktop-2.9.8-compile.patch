diff -up tdesktop-2.9.8-full/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp.omv~ tdesktop-2.9.8-full/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp
--- tdesktop-2.9.8-full/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp.omv~	2021-08-23 23:52:45.408930344 +0200
+++ tdesktop-2.9.8-full/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp	2021-08-23 23:54:40.352404127 +0200
@@ -14,9 +14,11 @@ https://github.com/telegramdesktop/tdesk
 
 #include "zlib.h"
 
+#ifdef __MSCV__
 extern "C" {
 extern int __isa_available;
 }
+#endif
 
 #define TO_LOG(x) debugLog(QString x)
 
@@ -203,7 +205,10 @@ VideoTrackObject::VideoTrackObject(
 	Expects(_error != nullptr);
 
 	TO_LOG(("created,speed:%1,mode:%2,position:%3,sync:%4,"
-		"loop:%5,wait:%6,duration:%7,initialized:%8,isa:%9"
+		"loop:%5,wait:%6,duration:%7,initialized:%8"
+#ifdef __MSVC__
+		",isa:%9"
+#endif
 		).arg(options.speed
 		).arg(int(options.mode)
 		).arg(options.position
@@ -212,7 +217,10 @@ VideoTrackObject::VideoTrackObject(
 		).arg(options.waitForMarkAsShown ? "true" : "false"
 		).arg(_stream.duration
 		).arg(_shared->initialized() ? "true" : "false"
-		).arg(__isa_available));
+#ifdef __MSVC__
+		).arg(__isa_available
+#endif
+		));
 }
 
 rpl::producer<> VideoTrackObject::checkNextFrame() const {
